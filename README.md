# algorithm
* Java部分源码与并发包的学习
* 数据结构, 算法, 设计模式的学习


意向锁:
只有在申请行锁之前才会申请意向锁IX/IS锁, 申请表锁的时候(ddl或无索引锁定)并不会去申请意向锁.


意向锁的作用在于使表锁和行锁共存:
当向一个表添加表级X锁的时候如果没有意向锁的话，则需要遍历所有整个表判断是否有行锁的存在，以免发生冲突.
如果有了意向锁，只需要判断该意向锁与即将添加的表级锁是否兼容即可(官方的那种兼容表是指表锁之间的兼容性)。
因为意向锁的存在表示有行级锁的存在或者即将有行级锁的存在。因而无需遍历整个表，即可获取结果.


next-key 锁:
在'可重复读'的隔离级别下, innoDB使用next-key检索数据和索引扫描, 用于解决"幻读"的问题; 即对一行数据加X/S行锁时, 不仅使用记录锁对索引加锁, 而且对索引前方的gap加gap锁.


